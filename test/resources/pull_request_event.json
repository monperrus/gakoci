{"number": 930, "pull_request": {"locked": false, "created_at": "2016-11-05T20:05:31Z", "merge_commit_sha": "d2fdf14fd5e44e6ed2ec991820830bc8f9839da2", "review_comments": 3, "statuses_url": "https://api.github.com/repos/INRIA/spoon/statuses/e640b870f24eb7fc1078d36a4657b556874119e5", "updated_at": "2016-11-05T20:36:24Z", "review_comment_url": "https://api.github.com/repos/INRIA/spoon/pulls/comments{/number}", "number": 930, "comments": 0, "mergeable_state": "unknown", "assignee": null, "commits_url": "https://api.github.com/repos/INRIA/spoon/pulls/930/commits", "review_comments_url": "https://api.github.com/repos/INRIA/spoon/pulls/930/comments", "issue_url": "https://api.github.com/repos/INRIA/spoon/issues/930", "head": {"user": {"url": "https://api.github.com/users/pvojtechovsky", "id": 23107345, "followers_url": "https://api.github.com/users/pvojtechovsky/followers", "organizations_url": "https://api.github.com/users/pvojtechovsky/orgs", "gists_url": "https://api.github.com/users/pvojtechovsky/gists{/gist_id}", "received_events_url": "https://api.github.com/users/pvojtechovsky/received_events", "events_url": "https://api.github.com/users/pvojtechovsky/events{/privacy}", "repos_url": "https://api.github.com/users/pvojtechovsky/repos", "gravatar_id": "", "site_admin": false, "login": "pvojtechovsky", "type": "User", "avatar_url": "https://avatars.githubusercontent.com/u/23107345?v=3", "following_url": "https://api.github.com/users/pvojtechovsky/following{/other_user}", "starred_url": "https://api.github.com/users/pvojtechovsky/starred{/owner}{/repo}", "html_url": "https://github.com/pvojtechovsky", "subscriptions_url": "https://api.github.com/users/pvojtechovsky/subscriptions"}, "ref": "supportCommentsInSnippet", "label": "pvojtechovsky:supportCommentsInSnippet", "repo": {"forks_count": 0, "name": "spoon", "downloads_url": "https://api.github.com/repos/pvojtechovsky/spoon/downloads", "contributors_url": "https://api.github.com/repos/pvojtechovsky/spoon/contributors", "created_at": "2016-10-28T11:39:17Z", "tags_url": "https://api.github.com/repos/pvojtechovsky/spoon/tags", "has_issues": false, "compare_url": "https://api.github.com/repos/pvojtechovsky/spoon/compare/{base}...{head}", "watchers": 0, "keys_url": "https://api.github.com/repos/pvojtechovsky/spoon/keys{/key_id}", "collaborators_url": "https://api.github.com/repos/pvojtechovsky/spoon/collaborators{/collaborator}", "commits_url": "https://api.github.com/repos/pvojtechovsky/spoon/commits{/sha}", "forks_url": "https://api.github.com/repos/pvojtechovsky/spoon/forks", "has_pages": false, "full_name": "pvojtechovsky/spoon", "size": 12844, "issue_events_url": "https://api.github.com/repos/pvojtechovsky/spoon/issues/events{/number}", "subscribers_url": "https://api.github.com/repos/pvojtechovsky/spoon/subscribers", "url": "https://api.github.com/repos/pvojtechovsky/spoon", "clone_url": "https://github.com/pvojtechovsky/spoon.git", "git_url": "git://github.com/pvojtechovsky/spoon.git", "branches_url": "https://api.github.com/repos/pvojtechovsky/spoon/branches{/branch}", "milestones_url": "https://api.github.com/repos/pvojtechovsky/spoon/milestones{/number}", "events_url": "https://api.github.com/repos/pvojtechovsky/spoon/events", "issues_url": "https://api.github.com/repos/pvojtechovsky/spoon/issues{/number}", "trees_url": "https://api.github.com/repos/pvojtechovsky/spoon/git/trees{/sha}", "open_issues_count": 0, "teams_url": "https://api.github.com/repos/pvojtechovsky/spoon/teams", "updated_at": "2016-10-28T11:39:20Z", "forks": 0, "contents_url": "https://api.github.com/repos/pvojtechovsky/spoon/contents/{+path}", "git_commits_url": "https://api.github.com/repos/pvojtechovsky/spoon/git/commits{/sha}", "mirror_url": null, "fork": true, "assignees_url": "https://api.github.com/repos/pvojtechovsky/spoon/assignees{/user}", "archive_url": "https://api.github.com/repos/pvojtechovsky/spoon/{archive_format}{/ref}", "pulls_url": "https://api.github.com/repos/pvojtechovsky/spoon/pulls{/number}", "pushed_at": "2016-11-05T20:36:24Z", "has_downloads": true, "language": "Java", "watchers_count": 0, "open_issues": 0, "releases_url": "https://api.github.com/repos/pvojtechovsky/spoon/releases{/id}", "html_url": "https://github.com/pvojtechovsky/spoon", "hooks_url": "https://api.github.com/repos/pvojtechovsky/spoon/hooks", "id": 72202535, "notifications_url": "https://api.github.com/repos/pvojtechovsky/spoon/notifications{?since,all,participating}", "blobs_url": "https://api.github.com/repos/pvojtechovsky/spoon/git/blobs{/sha}", "statuses_url": "https://api.github.com/repos/pvojtechovsky/spoon/statuses/{sha}", "private": false, "deployments_url": "https://api.github.com/repos/pvojtechovsky/spoon/deployments", "stargazers_url": "https://api.github.com/repos/pvojtechovsky/spoon/stargazers", "svn_url": "https://github.com/pvojtechovsky/spoon", "labels_url": "https://api.github.com/repos/pvojtechovsky/spoon/labels{/name}", "subscription_url": "https://api.github.com/repos/pvojtechovsky/spoon/subscription", "default_branch": "empty", "comments_url": "https://api.github.com/repos/pvojtechovsky/spoon/comments{/number}", "languages_url": "https://api.github.com/repos/pvojtechovsky/spoon/languages", "issue_comment_url": "https://api.github.com/repos/pvojtechovsky/spoon/issues/comments{/number}", "git_refs_url": "https://api.github.com/repos/pvojtechovsky/spoon/git/refs{/sha}", "ssh_url": "git@github.com:pvojtechovsky/spoon.git", "has_wiki": false, "description": "Spoon is a library for analyzing, rewriting, transforming, transpiling Java source code. It parses source files to build a well-designed AST with powerful analysis and transformation API. It fully supports Java 8.  :beers: :sparkles:", "homepage": "http://spoon.gforge.inria.fr/", "stargazers_count": 0, "owner": {"url": "https://api.github.com/users/pvojtechovsky", "id": 23107345, "followers_url": "https://api.github.com/users/pvojtechovsky/followers", "organizations_url": "https://api.github.com/users/pvojtechovsky/orgs", "gists_url": "https://api.github.com/users/pvojtechovsky/gists{/gist_id}", "received_events_url": "https://api.github.com/users/pvojtechovsky/received_events", "events_url": "https://api.github.com/users/pvojtechovsky/events{/privacy}", "repos_url": "https://api.github.com/users/pvojtechovsky/repos", "gravatar_id": "", "site_admin": false, "login": "pvojtechovsky", "type": "User", "avatar_url": "https://avatars.githubusercontent.com/u/23107345?v=3", "following_url": "https://api.github.com/users/pvojtechovsky/following{/other_user}", "starred_url": "https://api.github.com/users/pvojtechovsky/starred{/owner}{/repo}", "html_url": "https://github.com/pvojtechovsky", "subscriptions_url": "https://api.github.com/users/pvojtechovsky/subscriptions"}, "merges_url": "https://api.github.com/repos/pvojtechovsky/spoon/merges", "git_tags_url": "https://api.github.com/repos/pvojtechovsky/spoon/git/tags{/sha}"}, "sha": "e640b870f24eb7fc1078d36a4657b556874119e5"}, "merged": false, "state": "open", "body": "The comments in snippet was always ignored. This PR includes this:\r\n\r\n- Test case which fails when comments are lost in snippet\r\n- Implementation of comments in snippet\r\n- new method `CompilationUnit JDTSnippetCompiler.getSnippetCompilationUnit()`, which returns CompilationUnit of the compilet snippet. Note: I had to remember the CompilationUnit of the snippet in the CompilationUnit cache, otherwise JDTCommentBuilder was not able to add comments. And at the end I removed that CU from the cache ... so it is now possible to access that CU from the JDTSnippetCompiler too.\r\n\r\nIt is the first chunk of changes suggested by PR #929", "deletions": 5, "assignees": [], "mergeable": null, "url": "https://api.github.com/repos/INRIA/spoon/pulls/930", "id": 92465463, "comments_url": "https://api.github.com/repos/INRIA/spoon/issues/930/comments", "closed_at": null, "base": {"user": {"url": "https://api.github.com/users/INRIA", "id": 2951919, "followers_url": "https://api.github.com/users/INRIA/followers", "organizations_url": "https://api.github.com/users/INRIA/orgs", "gists_url": "https://api.github.com/users/INRIA/gists{/gist_id}", "received_events_url": "https://api.github.com/users/INRIA/received_events", "events_url": "https://api.github.com/users/INRIA/events{/privacy}", "repos_url": "https://api.github.com/users/INRIA/repos", "gravatar_id": "", "site_admin": false, "login": "INRIA", "type": "Organization", "avatar_url": "https://avatars.githubusercontent.com/u/2951919?v=3", "following_url": "https://api.github.com/users/INRIA/following{/other_user}", "starred_url": "https://api.github.com/users/INRIA/starred{/owner}{/repo}", "html_url": "https://github.com/INRIA", "subscriptions_url": "https://api.github.com/users/INRIA/subscriptions"}, "ref": "master", "label": "INRIA:master", "repo": {"forks_count": 57, "name": "spoon", "downloads_url": "https://api.github.com/repos/INRIA/spoon/downloads", "contributors_url": "https://api.github.com/repos/INRIA/spoon/contributors", "created_at": "2013-11-06T15:29:59Z", "tags_url": "https://api.github.com/repos/INRIA/spoon/tags", "has_issues": true, "compare_url": "https://api.github.com/repos/INRIA/spoon/compare/{base}...{head}", "watchers": 267, "keys_url": "https://api.github.com/repos/INRIA/spoon/keys{/key_id}", "collaborators_url": "https://api.github.com/repos/INRIA/spoon/collaborators{/collaborator}", "commits_url": "https://api.github.com/repos/INRIA/spoon/commits{/sha}", "forks_url": "https://api.github.com/repos/INRIA/spoon/forks", "has_pages": false, "full_name": "INRIA/spoon", "size": 17736, "issue_events_url": "https://api.github.com/repos/INRIA/spoon/issues/events{/number}", "subscribers_url": "https://api.github.com/repos/INRIA/spoon/subscribers", "url": "https://api.github.com/repos/INRIA/spoon", "clone_url": "https://github.com/INRIA/spoon.git", "git_url": "git://github.com/INRIA/spoon.git", "branches_url": "https://api.github.com/repos/INRIA/spoon/branches{/branch}", "milestones_url": "https://api.github.com/repos/INRIA/spoon/milestones{/number}", "events_url": "https://api.github.com/repos/INRIA/spoon/events", "issues_url": "https://api.github.com/repos/INRIA/spoon/issues{/number}", "trees_url": "https://api.github.com/repos/INRIA/spoon/git/trees{/sha}", "open_issues_count": 19, "teams_url": "https://api.github.com/repos/INRIA/spoon/teams", "updated_at": "2016-11-04T06:53:28Z", "forks": 57, "contents_url": "https://api.github.com/repos/INRIA/spoon/contents/{+path}", "git_commits_url": "https://api.github.com/repos/INRIA/spoon/git/commits{/sha}", "mirror_url": null, "fork": false, "assignees_url": "https://api.github.com/repos/INRIA/spoon/assignees{/user}", "archive_url": "https://api.github.com/repos/INRIA/spoon/{archive_format}{/ref}", "pulls_url": "https://api.github.com/repos/INRIA/spoon/pulls{/number}", "pushed_at": "2016-11-05T20:22:43Z", "has_downloads": true, "language": "Java", "watchers_count": 267, "open_issues": 19, "releases_url": "https://api.github.com/repos/INRIA/spoon/releases{/id}", "html_url": "https://github.com/INRIA/spoon", "hooks_url": "https://api.github.com/repos/INRIA/spoon/hooks", "id": 14176513, "notifications_url": "https://api.github.com/repos/INRIA/spoon/notifications{?since,all,participating}", "blobs_url": "https://api.github.com/repos/INRIA/spoon/git/blobs{/sha}", "statuses_url": "https://api.github.com/repos/INRIA/spoon/statuses/{sha}", "private": false, "deployments_url": "https://api.github.com/repos/INRIA/spoon/deployments", "stargazers_url": "https://api.github.com/repos/INRIA/spoon/stargazers", "svn_url": "https://github.com/INRIA/spoon", "labels_url": "https://api.github.com/repos/INRIA/spoon/labels{/name}", "subscription_url": "https://api.github.com/repos/INRIA/spoon/subscription", "default_branch": "master", "comments_url": "https://api.github.com/repos/INRIA/spoon/comments{/number}", "languages_url": "https://api.github.com/repos/INRIA/spoon/languages", "issue_comment_url": "https://api.github.com/repos/INRIA/spoon/issues/comments{/number}", "git_refs_url": "https://api.github.com/repos/INRIA/spoon/git/refs{/sha}", "ssh_url": "git@github.com:INRIA/spoon.git", "has_wiki": false, "description": "Spoon is a library for analyzing, rewriting, transforming, transpiling Java source code. It parses source files to build a well-designed AST with powerful analysis and transformation API. It fully supports Java 8.  :beers: :sparkles:", "homepage": "http://spoon.gforge.inria.fr/", "stargazers_count": 267, "owner": {"url": "https://api.github.com/users/INRIA", "id": 2951919, "followers_url": "https://api.github.com/users/INRIA/followers", "organizations_url": "https://api.github.com/users/INRIA/orgs", "gists_url": "https://api.github.com/users/INRIA/gists{/gist_id}", "received_events_url": "https://api.github.com/users/INRIA/received_events", "events_url": "https://api.github.com/users/INRIA/events{/privacy}", "repos_url": "https://api.github.com/users/INRIA/repos", "gravatar_id": "", "site_admin": false, "login": "INRIA", "type": "Organization", "avatar_url": "https://avatars.githubusercontent.com/u/2951919?v=3", "following_url": "https://api.github.com/users/INRIA/following{/other_user}", "starred_url": "https://api.github.com/users/INRIA/starred{/owner}{/repo}", "html_url": "https://github.com/INRIA", "subscriptions_url": "https://api.github.com/users/INRIA/subscriptions"}, "merges_url": "https://api.github.com/repos/INRIA/spoon/merges", "git_tags_url": "https://api.github.com/repos/INRIA/spoon/git/tags{/sha}"}, "sha": "77db56432d6aa0d3294065e0bfd1e1952bb6c626"}, "milestone": null, "additions": 98, "changed_files": 4, "diff_url": "https://github.com/INRIA/spoon/pull/930.diff", "user": {"url": "https://api.github.com/users/pvojtechovsky", "id": 23107345, "followers_url": "https://api.github.com/users/pvojtechovsky/followers", "organizations_url": "https://api.github.com/users/pvojtechovsky/orgs", "gists_url": "https://api.github.com/users/pvojtechovsky/gists{/gist_id}", "received_events_url": "https://api.github.com/users/pvojtechovsky/received_events", "events_url": "https://api.github.com/users/pvojtechovsky/events{/privacy}", "repos_url": "https://api.github.com/users/pvojtechovsky/repos", "gravatar_id": "", "site_admin": false, "login": "pvojtechovsky", "type": "User", "avatar_url": "https://avatars.githubusercontent.com/u/23107345?v=3", "following_url": "https://api.github.com/users/pvojtechovsky/following{/other_user}", "starred_url": "https://api.github.com/users/pvojtechovsky/starred{/owner}{/repo}", "html_url": "https://github.com/pvojtechovsky", "subscriptions_url": "https://api.github.com/users/pvojtechovsky/subscriptions"}, "merged_at": null, "patch_url": "https://github.com/INRIA/spoon/pull/930.patch", "_links": {"html": {"href": "https://github.com/INRIA/spoon/pull/930"}, "statuses": {"href": "https://api.github.com/repos/INRIA/spoon/statuses/e640b870f24eb7fc1078d36a4657b556874119e5"}, "issue": {"href": "https://api.github.com/repos/INRIA/spoon/issues/930"}, "review_comments": {"href": "https://api.github.com/repos/INRIA/spoon/pulls/930/comments"}, "self": {"href": "https://api.github.com/repos/INRIA/spoon/pulls/930"}, "review_comment": {"href": "https://api.github.com/repos/INRIA/spoon/pulls/comments{/number}"}, "comments": {"href": "https://api.github.com/repos/INRIA/spoon/issues/930/comments"}, "commits": {"href": "https://api.github.com/repos/INRIA/spoon/pulls/930/commits"}}, "title": "support of comments in snippet", "merged_by": null, "html_url": "https://github.com/INRIA/spoon/pull/930", "commits": 2}, "repository": {"forks_count": 57, "name": "spoon", "downloads_url": "https://api.github.com/repos/INRIA/spoon/downloads", "contributors_url": "https://api.github.com/repos/INRIA/spoon/contributors", "created_at": "2013-11-06T15:29:59Z", "tags_url": "https://api.github.com/repos/INRIA/spoon/tags", "has_issues": true, "compare_url": "https://api.github.com/repos/INRIA/spoon/compare/{base}...{head}", "watchers": 267, "keys_url": "https://api.github.com/repos/INRIA/spoon/keys{/key_id}", "collaborators_url": "https://api.github.com/repos/INRIA/spoon/collaborators{/collaborator}", "commits_url": "https://api.github.com/repos/INRIA/spoon/commits{/sha}", "forks_url": "https://api.github.com/repos/INRIA/spoon/forks", "has_pages": false, "full_name": "INRIA/spoon", "size": 17736, "issue_events_url": "https://api.github.com/repos/INRIA/spoon/issues/events{/number}", "subscribers_url": "https://api.github.com/repos/INRIA/spoon/subscribers", "url": "https://api.github.com/repos/INRIA/spoon", "clone_url": "https://github.com/INRIA/spoon.git", "git_url": "git://github.com/INRIA/spoon.git", "branches_url": "https://api.github.com/repos/INRIA/spoon/branches{/branch}", "milestones_url": "https://api.github.com/repos/INRIA/spoon/milestones{/number}", "events_url": "https://api.github.com/repos/INRIA/spoon/events", "issues_url": "https://api.github.com/repos/INRIA/spoon/issues{/number}", "trees_url": "https://api.github.com/repos/INRIA/spoon/git/trees{/sha}", "open_issues_count": 19, "teams_url": "https://api.github.com/repos/INRIA/spoon/teams", "updated_at": "2016-11-04T06:53:28Z", "forks": 57, "contents_url": "https://api.github.com/repos/INRIA/spoon/contents/{+path}", "git_commits_url": "https://api.github.com/repos/INRIA/spoon/git/commits{/sha}", "mirror_url": null, "fork": false, "assignees_url": "https://api.github.com/repos/INRIA/spoon/assignees{/user}", "archive_url": "https://api.github.com/repos/INRIA/spoon/{archive_format}{/ref}", "pulls_url": "https://api.github.com/repos/INRIA/spoon/pulls{/number}", "pushed_at": "2016-11-05T20:22:43Z", "has_downloads": true, "language": "Java", "watchers_count": 267, "open_issues": 19, "releases_url": "https://api.github.com/repos/INRIA/spoon/releases{/id}", "html_url": "https://github.com/INRIA/spoon", "hooks_url": "https://api.github.com/repos/INRIA/spoon/hooks", "id": 14176513, "notifications_url": "https://api.github.com/repos/INRIA/spoon/notifications{?since,all,participating}", "blobs_url": "https://api.github.com/repos/INRIA/spoon/git/blobs{/sha}", "statuses_url": "https://api.github.com/repos/INRIA/spoon/statuses/{sha}", "private": false, "deployments_url": "https://api.github.com/repos/INRIA/spoon/deployments", "stargazers_url": "https://api.github.com/repos/INRIA/spoon/stargazers", "svn_url": "https://github.com/INRIA/spoon", "labels_url": "https://api.github.com/repos/INRIA/spoon/labels{/name}", "subscription_url": "https://api.github.com/repos/INRIA/spoon/subscription", "default_branch": "master", "comments_url": "https://api.github.com/repos/INRIA/spoon/comments{/number}", "languages_url": "https://api.github.com/repos/INRIA/spoon/languages", "issue_comment_url": "https://api.github.com/repos/INRIA/spoon/issues/comments{/number}", "git_refs_url": "https://api.github.com/repos/INRIA/spoon/git/refs{/sha}", "ssh_url": "git@github.com:INRIA/spoon.git", "has_wiki": false, "description": "Spoon is a library for analyzing, rewriting, transforming, transpiling Java source code. It parses source files to build a well-designed AST with powerful analysis and transformation API. It fully supports Java 8.  :beers: :sparkles:", "homepage": "http://spoon.gforge.inria.fr/", "stargazers_count": 267, "owner": {"url": "https://api.github.com/users/INRIA", "id": 2951919, "followers_url": "https://api.github.com/users/INRIA/followers", "organizations_url": "https://api.github.com/users/INRIA/orgs", "gists_url": "https://api.github.com/users/INRIA/gists{/gist_id}", "received_events_url": "https://api.github.com/users/INRIA/received_events", "events_url": "https://api.github.com/users/INRIA/events{/privacy}", "repos_url": "https://api.github.com/users/INRIA/repos", "gravatar_id": "", "site_admin": false, "login": "INRIA", "type": "Organization", "avatar_url": "https://avatars.githubusercontent.com/u/2951919?v=3", "following_url": "https://api.github.com/users/INRIA/following{/other_user}", "starred_url": "https://api.github.com/users/INRIA/starred{/owner}{/repo}", "html_url": "https://github.com/INRIA", "subscriptions_url": "https://api.github.com/users/INRIA/subscriptions"}, "merges_url": "https://api.github.com/repos/INRIA/spoon/merges", "git_tags_url": "https://api.github.com/repos/INRIA/spoon/git/tags{/sha}"}, "before": "ddb150174cbb8389eda5ea110e5ef236f3f82488", "action": "synchronize", "organization": {"login": "INRIA", "url": "https://api.github.com/orgs/INRIA", "id": 2951919, "members_url": "https://api.github.com/orgs/INRIA/members{/member}", "avatar_url": "https://avatars.githubusercontent.com/u/2951919?v=3", "events_url": "https://api.github.com/orgs/INRIA/events", "description": "", "public_members_url": "https://api.github.com/orgs/INRIA/public_members{/member}", "issues_url": "https://api.github.com/orgs/INRIA/issues", "repos_url": "https://api.github.com/orgs/INRIA/repos", "hooks_url": "https://api.github.com/orgs/INRIA/hooks"}, "after": "e640b870f24eb7fc1078d36a4657b556874119e5", "sender": {"url": "https://api.github.com/users/pvojtechovsky", "id": 23107345, "followers_url": "https://api.github.com/users/pvojtechovsky/followers", "organizations_url": "https://api.github.com/users/pvojtechovsky/orgs", "gists_url": "https://api.github.com/users/pvojtechovsky/gists{/gist_id}", "received_events_url": "https://api.github.com/users/pvojtechovsky/received_events", "events_url": "https://api.github.com/users/pvojtechovsky/events{/privacy}", "repos_url": "https://api.github.com/users/pvojtechovsky/repos", "gravatar_id": "", "site_admin": false, "login": "pvojtechovsky", "type": "User", "avatar_url": "https://avatars.githubusercontent.com/u/23107345?v=3", "following_url": "https://api.github.com/users/pvojtechovsky/following{/other_user}", "starred_url": "https://api.github.com/users/pvojtechovsky/starred{/owner}{/repo}", "html_url": "https://github.com/pvojtechovsky", "subscriptions_url": "https://api.github.com/users/pvojtechovsky/subscriptions"}}